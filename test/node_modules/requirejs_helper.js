exports.requirejs = (function() {
  var requirejs = require('requirejs');

  requirejs.config({
    baseUrl: __dirname + '/../../app',
    nodeRequire: require,
    paths: {
      cs: 'lib/cs',
      'coffee-script': 'lib/coffee-script',
      'underscore': 'lib/underscore-min'
    },
    shim: {
      'underscore': {
        exports: '_'
      }
    }
  });


  return requirejs;
})();

exports.asyncTest = (function(test) {
  describe("Async test runner", function(){
    it("should run async tests", function(done){
      test(done);
    });
  });
});

exports.initDOM = (function () {

  // Create a DOM
  jsdom = require('jsdom');

  // create a jQuery instance
  jQuery = require('jquery').create();
  global.jQuery = global.$ = jQuery;

  // Create window
  window = jsdom.jsdom().createWindow('<html><body></body></html>')

  // Set up global references for DOMDocument+jQuery
  global.document = window.document;

  // add addEventListener for coffeescript compatibility:
  global.addEventListener = window.addEventListener
})();
